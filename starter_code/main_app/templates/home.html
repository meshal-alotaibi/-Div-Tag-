{% extends 'base.html' %}
{% block title%} DivTag{% endblock%}
    {% block content %}
    {% load static %}
      <div class="jumbotron p-3 p-md-5 text-white rounded bg-secondary" style="background-image: url('static/img/background_1.jpg'); background-size: cover;">
        <div class="col-md-6 px-4">
          <h1 class="display-4 font-italic" style="color: dimgray;">Div-Tag</h1>
          <p class="lead my-3" style="color: dimgray;">is an open platform where readers find dynamic thinking, 
            and where expert and undiscovered voices can share their writing on programming topic.
             We publish all our articles to it and also use it to keep ourselves up to date on what's going on in the world.
             We use it because it has some great writers who write some great articles and do with some authority.
          ‚Äè</p>
          <p class="lead mb-0"style="color: dimgray;">We feel the people who use Div-tag are professional and authoritative.</p>

        </div>
      </div>
      <br>
      
      <div class="row mb-2">
           {% for category in categories %}
        <div class="col-md-6">
          <div class="card flex-md-row mb-4 box-shadow h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
              <strong class="d-inline-block mb-2 text-success">DivTag</strong>
              <h3 class="mb-0">
                <a class="text-dark" href="{% url 'topics' category.pk %}">{{category.name}}</a>
              </h3>
              <div class="mb-1 text-muted">{{category.descriptipn}}</div>
              <table class="table" style="border: none;">
                <thead>
                  <tr>
                    <th scope="col" style="border: none; text-align:left;">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-right-text" viewBox="0 0 16 16">
                      <path d="M2 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h9.586a2 2 0 0 1 1.414.586l2 2V2a1 1 0 0 0-1-1H2zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z"/>
                      <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
                      </svg>  <small> posts</small>  &nbsp; {{category.get_posts_count}} </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td scope="col" style="border: none; text-align: left;">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-richtext" viewBox="0 0 16 16">
                      <path d="M7 4.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm-.861 1.542l1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V7.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V7s1.54-1.274 1.639-1.208zM5 9a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"/>
                      <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
                      </svg> <small> topics</small> {{category.get_topic_count}}</td>
                  </tr>
                </tbody>
              </table>

              <p  class="card-text mb-auto"> <small>Last topic </small>
                {% with topic=category.get_last_topic %}
                {% if topic %}
                &nbsp; 
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                </svg> <small> {{topic.created_by.username}} </small> &nbsp; 

                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
                <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
                </svg> <small> {{topic.created_dt}} </small>


                {% else %} 
                  &nbsp; <small> No Topic </small>
                {% endif %}
                {% endwith %} </p>
  
            </div>
            <img class="card-img-right flex-auto d-none d-md-block" data-src="holder.js/200x250?theme=thumb" alt="Thumbnail [200x250]" src='{{category.img}}'data-holder-rendered="true" style="width: 200px; height: 250px;">
          </div>
        </div>
        {%endfor%}
      </div>
    </div>

  {% endblock%} 